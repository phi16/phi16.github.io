<!doctype html>
<html>
<head>
  <title>Mochi | phi16</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="target-densitydpi=device-dpi, width=device-width, minimum-scale=0.54, maximum-scale=2.0, user-scalable=yes">
  <script type="text/javascript" src="https://www.google.com/jsapi"></script>
  <link href="https://fonts.googleapis.com/css?family=Berkshire+Swash" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js"></script>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
  <script type="text/javascript">
  function procExt(s){
    return s.replace(/(http[^\s\n]*)/g,"&nbsp;<a href=\"$1\">$1</a>&nbsp;").replace(/\n/g,"<br>");
  }
  </script>
  <script type="text/javascript" src="/fancybox/jquery.fancybox-1.3.4.pack.js"></script>
  <link rel="stylesheet" href="/fancybox/jquery.fancybox-1.3.4.css" type="text/css" media="screen" />
  <link rel="stylesheet" href="/index.css">
</head>

<body>
  <div class="container">
    <div id="main" role="main">
      <div id="site">
        <div id="header">
          <a href="/"><h1>Mochi</h1></a>
          <div id="sideS">/ phi16</div>
        </div>
        <div class="widget">
          <div class="title">About</div>
          <div class="indent">
            <div class="stat"></div>
            今までの制作物置き場です。主にスクリーンショットがあります。<br>
            そのうち改装します。わりと早めに。願い。
          </div>
          <div class="title">Profile</div>
          <div class="indent">
            <ul>
              <li>なにかを作ったりしてます。強い意思がすき。</li>
              <ul>
                <li>東京工業大学情報理工学院情報工学系修士2年</li>
                <li>数理論理学とか型理論とか圏論とか。</li>
                <li><a href="https://www.rogiken.org">ロボット技術研究会</a></li>
                <li><a href="https://trap.jp">デジタル創作同好会traP</a></li>
              </ul>
              <li>好きなゲーム</li>
              <ul>
                <li><a href="https://store.steampowered.com/app/210970">The Witness</a></li>
                <li><a href="https://store.steampowered.com/app/381890">Induction</a></li>
                <li><a href="https://store.steampowered.com/app/736260">Baba Is You</a></li>
              </ul>
              <li>Email : phi16.256&lt;at&gt;gmail.com</li>
              <li>Twitter :&nbsp;<a href="https://twitter.com/phi16_">@phi16_</a></li>
              <li>GitHub :&nbsp;<a href="https://github.com/phi16">phi16</a></li>
              <li>Steam :&nbsp;<a href="https://steamcommunity.com/id/phi16/">phi16</a></li>
              <li>NEORT :&nbsp;<a href="https://neort.io/0krLXVos1jXjruhG0yZRj8zor7D2">phi16</a></li>
              <li>Shadertoy : &nbsp;<a href="https://www.shadertoy.com/user/phi16">phi16</a></li>
              <li>Qiita : &nbsp;<a href="https://qiita.com/phi16">phi16</a></li>
              <li>Discord : phi16#1139</li>
              <li>Hatena Blog : &nbsp;<a href="http://phi16.hatenablog.com">Imaginantia</a></li>
              <li>VRChat : phi16</li>
            </ul>
            連絡はTwitterが一番早いと思います。
          </div>
        </div>
        <div class="widget">
          <div class="title">Works</div>
          <div class="indent" id="works">
            <div class="stat"></div>
            メインコンテンツ。古い順に並んでいます。
            <div id="elems"></div>
          </div>
        </div>
        <div class="widget">
          <div class="title">Article</div>
          <div class="indent">
            <ul>
              <li>[rogy] <a href="http://titech-ssr.blog.jp/archives/1047298157.html">万物の創造</a> 2015/12/12</li>
              <li>[traP] <a href="https://trap.jp/post/27/">†光†</a> 2015/12/19</li>
              <li>[rogy] <a href="http://titech-ssr.blog.jp/archives/1050624657.html">JSでスライドを作るツールを作った話</a> 2016/01/25</li>
              <li>[rogy] <a href="http://titech-ssr.blog.jp/archives/1053186991.html">ねるねるねるねをつくった</a> 2016/03/02</li>
              <li>[qiita] <a href="http://qiita.com/phi16_/items/ef83e610585ac8526d31">Blackhole : 無限再帰停止機構</a> 2016/12/08</li>
              <li>[qiita] <a href="http://qiita.com/phi16_/items/49b4c770ab979ecc8f2d">GLSLでテトリスをつくる</a> 2016/12/08</li>
              <li>[rogy] <a href="http://titech-ssr.blog.jp/archives/1062946674.html">Haskellで始める手続き型プログラミング</a> 2016/12/15</li>
              <li>[traP] <a href="https://trap.jp/post/145/">状態遷移と状態の排除</a> 2016/12/20</li>
              <li>[traP] <a href="https://trap.jp/post/159/">A primitive higher-order structure</a> 2016/12/28</li>
              <li>[traP] <a href="https://trap.jp/post/162/">Combinatorial Easing : 動かし方を分解する</a> 2017/1/11</li>
              <li>[traP] <a href="https://trap.jp/post/199/">Co-data</a> 2017/4/24</li>
              <li>[チズケ研究会] <a href="https://cheesecake.institute/">チーズケーキ技術 17.08 (ガチャキング製作記・並行性への道)</a> 2017/8/11</li>
              <li>[traP] <a href="https://trap.jp/post/372/">Negative Thinking</a> 2017/12/01</li>
              <li>[rogy] <a href="https://blog.rogiken.org/2017/12/20/well-defined%E3%81%AE%E3%81%AF%E3%81%AA%E3%81%97/">well-definedのはなし</a> 2017/12/20</li>
              <li>[qiita] <a href="https://qiita.com/phi16_/items/2d6e063f257a12d2ea01">Vacuous Park : Alter 技術解説</a> 2018/12/12</li>
              <li>[traP] <a href="https://trap.jp/post/620/">○△□</a> 2018/12/15</li>
              <li>[booth] <a href="https://phi16.booth.pm/items/1456068">Stair Hall 開発記</a> 2019/07/15</li>
              <li>[qiita] <a href="https://qiita.com/phi16_/items/869d3c5cb0d705ec1396">UDONが待ちきれない人のためのSceneResetPositionプログラミング</a> 2019/12/20</li>
              <li>[booth] <a href="https://phi16.booth.pm/items/1806126">空間表現の絵本</a> 2020/02/15</li>
            </ul>
          </div>
          <div class="indent">
            <div class="subtitle">Imaginantiaの長い記事シリーズ</div>
            <ul>
              <li><a href="http://phi16.hatenablog.com/entry/2017/11/16/201046">具体的すぎてわかりにくい</a> 2017/11/16</li>
              <li>表現のための数学 (<a href="http://phi16.hatenablog.com/entry/2018/09/06/020714">空間 #0</a>, <a href="http://phi16.hatenablog.com/entry/2018/09/06/202405">三角関数 #1</a>, <a href="http://phi16.hatenablog.com/entry/2018/09/07/175652">回転 #2</a>, <a href="http://phi16.hatenablog.com/entry/2018/09/09/183317">重み #3</a>, <a href="http://phi16.hatenablog.com/entry/2018/09/26/202047">射影 #4</a>, <a href="http://phi16.hatenablog.com/entry/2018/10/11/015151">3Dモデル #5</a>)</li>
              <li><a href="http://phi16.hatenablog.com/entry/2018/09/28/054252">のらきゃっと</a> 2018/09/28</li>
              <li><a href="http://phi16.hatenablog.com/entry/2018/10/01/025917">概念「自由」</a> 2018/10/01</li>
              <li><a href="http://phi16.hatenablog.com/entry/2018/10/03/223758">FuwaParticle 解説</a> 2018/10/03</li>
              <li><a href="http://phi16.hatenablog.com/entry/2018/10/28/233902">のらきゃっと / エア放送論</a> 2018/10/28</li>
              <li><a href="http://phi16.hatenablog.com/entry/2018/11/25/002208">「創作」</a> 2018/11/25</li>
              <li><a href="http://phi16.hatenablog.com/entry/2018/12/31/222020">私と創作2018</a> 2018/12/31</li>
              <li><a href="http://phi16.hatenablog.com/entry/2019/01/15/220336">よく使う関数たちの一覧</a> 2019/01/15</li>
              <li><a href="http://phi16.hatenablog.com/entry/2019/02/18/013004">私とVRChat</a> 2019/02/18</li>
              <li><a href="http://phi16.hatenablog.com/entry/2019/04/29/162431">シェーダで具体的な動きを描く</a> 2019/05/05</li>
              <li><a href="http://phi16.hatenablog.com/entry/2019/07/24/223514">感覚とは何なのか</a> 2019/07/24</li>
              <li><a href="http://phi16.hatenablog.com/entry/2019/08/14/233152">教養 / VR空間を作る</a> 2019/08/14</li>
              <li><a href="http://phi16.hatenablog.com/entry/2019/08/21/003358">「お絵かきと対話」その中身</a> 2019/08/21</li>
              <li><a href="http://phi16.hatenablog.com/entry/2019/09/02/010324">Shaderで計算機を作る</a> 2019/09/02</li>
              <li><a href="http://phi16.hatenablog.com/entry/2020/02/29/222155">私とVRChat 2年目</a> 2020/02/29</li>
              <li><a href="http://phi16.hatenablog.com/entry/2020/04/13/180940">Udon/U#についての諸記録</a> 2020/04/13</li>
              <li><a href="http://phi16.hatenablog.com/entry/2020/04/21/181205">横顔</a> 2020/04/21</li>
            </ul>
          </div>
        </div>
        <div class="widget">
          <div class="title">Activity</div>
          <div class="indent">
            <div class="stat"></div>
            対外的な活動
            <ul>
              <li>
                <a href="http://xrarchi.org/vraa1/">VR Architecture Award 01</a> モスコミュール賞<br>
                Oculus Questをもらいました。:tada:
              </li>
              <li>
                <a href="https://neort.io/story/helloneoshibuya">NEORT</a>さんより 渋谷駅地下で展示<br>
                <a href="https://twitter.com/phi16_/status/1190487389132607494">バーチャル浴衣柄を置かせて頂きました。</a>とても貴重な機会でした。
              </li>
            </ul>
            <div class="stat"></div>
            VRChat系で関わったものなど
            <ul>
              <li>
                <a href="https://www.vrcas.net/">VRoadCaster</a><br>
                コメントや音声系統のプログラムを組んだりしてました。あと細かい指摘とか。
              </li>
              <li>
                <a href="https://youtu.be/wUQAER0s8YI?t=1392">JAPANELAND花火大会</a><br>
                花火と称して謎パーティクルを出したり花を咲かせたりしました。たのしかったですね。
              </li>
              <li>
                <a href="https://twitter.com/lileaLab/status/1048940993221804034">点群芸大</a><br>
                シェーダとテクスチャ生成プログラムをちょっと提供したりしました。すごい。
              </li>
              <li>
                <a href="https://twitter.com/gst_kkgr/status/1112294722230378496">TECHNO VINEGAR</a><br>
                ほんのちょっとだけシェーダを弄ったり、あと細かい指摘。めちゃくちゃ良いのでみんな体験しよう。
              </li>
            </ul>
            <div class="stat"></div>
            ロボット技術研究会の研究報告会で行ったものや工大祭で展示したものなど
            <ul>
              <li>
                [Misc] <a href="https://github.com/phi16/cpp.hs">C++におけるEDSLの可能性</a><br>
                C++の上でHaskellっぽい記述ができるEDSLを作った
              </li>
              <li>
                [Game] <a href="https://play.google.com/store/apps/details?id=phi16.neruneru">ねるねるねるね</a><br>
                謎の発想から出来た、作業効率化というものを感じられる謎ゲー (結構おもしろい)
              </li>
              <li>
                [Misc] <a href="https://github.com/phi16/110">セルオートマトンによるラムダ計算のエミュレーション</a><br>
                Rule 110 オートマトンはチューリング完全なのでラムダ計算ができる
              </li>
              <li>
                [Game] <a href="http://progress.trap.games">進捗どうですか？</a><br>
                プロジェクトマネジメントシミュレーションゲームらしい。Hackathonで5人で作ったもの。
              </li>
              <li>
                [App] <a href="https://github.com/phi16/Quilt">Visual Programming Language と Compact Closed Category</a><br>
                コンパクト閉圏の性質をプログラムなどのVisualizationに応用しようとした
                <ul>
                  <li><a href="http://phi16.github.io/Quilt/untyped/">Quilt Untyped</a> 型無しラムダ計算</li>
                  <li><a href="http://phi16.github.io/Quilt/flow/">Quilt Flow</a> 命令型プログラミング環境</li>
                  <li><a href="http://phi16.github.io/Quilt/linear/">Quilt Linear</a> 一次線形方程式</li>
                  <li><a href="http://phi16.github.io/Quilt/circuit/">Quilt Circuit</a> 論理回路</li>
                </ul>
              </li>
              <li>
                [Lib] <a href="https://github.com/phi16/Q">Q : Concurrency with Generator</a><br>
                JavaScriptで動くMonadicなたのしいスレッドライブラリ
              </li>
              <li>
                [Game] <a href="https://gachaking.trap.games/">課金王者ガチャキング</a><br>
                ガチャを引いたりプレイヤーを妨害したりするわいわい系ボードゲーム
              </li>
              <li>
                [App] <a href="https://github.com/phi16/Manifold">歪んだ空間で物理演算</a><br>
                トーラスなどの平坦でない空間の上での物理法則をシミュレート
              </li>
              <li>
                [App] <a href="https://twitter.com/i/moments/1048929491047702528">Jenga MR</a><br>
                Virtual Reality 世界にいる相手と Mixed Reality で一緒にジェンガ
              </li>
            </ul>
          </div>
        </div>
        <div id="footer"></div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
  $(document).ready(_=>{
    const data = [
      {id:"tbl", title:"TurnBlock (Windows BetterC)",desc:"最初のまともなゲーム。シューティングです。\nこの頃から線画好きだった。けどシンプルでいいよね。\nゲーム自体は調整全然できてないけど見た目がきれいなのでいいかなって。"},
      {id:"pok", title:"Poker (Windows C++)",desc:"線画3Dエンジンが出来たのでポーカーつくった。\nあんまりポーカーに詳しくはないのでAIも全部適当仕様。\n明らかにパース狂ってるのは内緒。ここから四元数大好きになった。"},
      {id:"grap",title:"KeyboardStringShortCutter (Windows BetterC)",desc:"名前そのまま。好きなショートカットでいつでもランチャーが呼び出せる。\nキーボードのみでいろいろ使いたかったのでつくった。\nAero Glass化は@wx257osn2さんより。"},
      {id:"spr", ref:"/swf/aSGi/aSGi.swf",title:"Spline Clock (Flash, AS3)",desc:"Wonderfl眺めていたら時計が綺麗だったので自分も作りたくなった。"},
      {id:"bldn",title:"BlockDown (Linux Haskell)",desc:"Haskellでゲームをつくろうとしてとりあえずアイディアもってきた。\n横5列に同じ色を置くと消える。縦3でも消えるけどスコアが入らない。\n移動は矢印のみ。慣れると簡単になってくるので難易度調整難しい。"},
      {id:"diff",title:"Diffroma (Android Java)",desc:"Androidで作った最初のゲーム。\n同じような色を線で結ぶと、似ている度に応じて点が入る。\n90%以上でChainがでるのでそれを繋ぎつつけるゲーム。"},
      {id:"b10q",title:"b10q[ぶろっく] (Android Java)",desc:"テトリスを改造したゲームを作ってたらこうなった。\n隣接する数字が4つ以上つながると消えるけどつながった瞬間には消えない。\nひたすらChainを繋げるゲーム。たのしい。"},
      {id:"blt", title:"BulletTest (Windows C++)",desc:"ただ単に3D物理演算エンジンBulletを試したかっただけ。\n単なるキューブの他にも机や椅子を出せる。\n元々は学校をゲームにしたかったんだけどめんどくさくて断念。"},
      {id:"blw", title:"Bowling (Windows C++)",desc:"WiiRemoteを使ったBowling。操作性皆無。\nソルティライチのテクスチャは自作です。4日。\nDirect3D/Bulletを使った初めてのまともなゲーム。"},
      {id:"msi", title:"Fuwasweeper (Windows C++)",desc:"モーションがふわふわしてるけどその実はただの自動機能搭載マインスイーパ。\n見えるところから推論してできるだけ開けて旗立てる。\nこれは1度クリックしただけの状態です。げーむじゃない。"},
      {id:"reti",ref:"/swf/lBXR/lBXR.swf",title:"RecursiveTriangles (Flash, AS3)",desc:"ドラッグで三角形を描きます。"},
      {id:"wvi", title:"Wave (Windows BetterC)",desc:"単なる波シミュ。壁置けたり波源置けたりするだけ。\nでもなぜかバグる。こんなのでバグ生成していいのかわたし。\n一応楽しめるのでそれはそれでよし。"},
      {id:"rec", title:"Recaller (Windows C++)",desc:"物事って木構造的に考えられることが多いっていうのを思って作った。\n主にメモ用。ちなみにズームとかも勿論自由にできます。\n力学的アルゴリズムがちょっと弱くて綺麗に表示するまで時間がかかる。"},
      {id:"proc",title:"WireProc (Windows C++)",desc:"グラフィカルなプログラミング言語をつくろうとして試作。\nこれはフィボナッチの生成コード。のはず。自己再帰もできる。\n・・・が、動くところまで実装していない。ついでに仕様もゆれゆれ。"},
      {id:"spc", title:"IconGen (Processing GLSL)",desc:"RayMarchを知ってとりあえずそれっぽいのを作ってみた結果。\n現在のGithubのアイコンの元でもある。"},
      {id:"str", title:"Stroke (Android Java)",desc:"ガラケー2タッチに慣れすぎたのでAndroidでもやりたかった。\n分かる人なら分かる。ついでに214とスライドすると「かえ」(=2114)になる。\n両手入力だとすごく速い。バグさえ無ければもっと自信持って紹介できるのだけど。"},
      {id:"qchi",title:"QromaKey (Windows C++)",desc:"今まで作った中で一番まともなゲーム。\n左下のパレットを回転して背景の色を決めて、同じ色のブロックは当たらなくなる。\nゲーム性もいいとはおもうのだけど7Stageの予定が4までしかできてない。"},
      {id:"hglu",ref:"/swf/mI1c/mI1c.swf",title:"Hourglass (Flash, AS3)",desc:"かっこよさそうな砂時計を作りたかった。"},
      {id:"moy",size:2,title:"Catan (Windows C++)",desc:"カタンをおうちでやりたかった。もってない。\n大好き線画3D、ぐるぐる動くよ！結構グラフィック綺麗でいい感じ。\nネットワーク周りにバグ多すぎて公開できない。ゲーム終了つくってないし。"},
      {id:"tesm",title:"Tetris Simulator (Windows C++)",desc:"ただのテトリスのシミュのはずだったんだけど、自分仕様にチューニングした。\nまずNext/Holdは1マスで表示。形を見るのに依存しないように。\nフィールドも小さめで覚えるようにしてみた。けどそんなに成長はしなかった。"},
      {id:"qtet",ref:"/swf/4LA0/4LA0.swf",title:"Quantum Tetris (Flash, AS3)",desc:"←↓→で移動、ZXで回転、↑でハードドロップ。\n量子ゲームシリーズが面白そうだったので。長々とした解説を昔書いたんだけどどうしような。"},
      {id:"trig",title:"3ght[とらいと] (Windows C++)",desc:"暇なので1日でつくった。読みはtri-とli-で掛けたつもり。その割には光らないけど。\n矢？が流れてくるから照準の色・的の方向を操作して色を揃える。\nTGM的スピードアップから連想。実際そんな感じになった。"},
      {id:"preu",title:"Reflei (Android Java)",desc:"WIP。n回の反射で目的地にー、みたいなのをつくろうとした。\n反射計算はRayMarchなのでもっと複雑な形もできます。\nでも任意の関数を距離場化するのがわからなくて放置。"},
      {id:"moti",ref:"/swf/2PClm/2PClm.swf",title:"Motional Life Game (Flash, AS3)",desc:"ドラッグで反転、Spaceで時間停止、Enterでグライダー銃。\nめっちゃ生物っぽい。グライダーの動きが特に良い。"},
      {id:"peil",title:"Peano Tile (Haskell) https://github.com/phi16/RayMarch"},
      {id:"refl",title:"ReflectBlock (Windows C++)",desc:"後輩氏にわかりやすいゲームつくっていっていわれたのでつくった。\n元はもっと単純なのだけど改造結果反射(神経)ゲーム化した。\nエフェクト過多なのは仕様。あくまでサンプルゲーなのです。"},
      {id:"mpss",title:"MemoryPinball (iOS Objective-C)",desc:"lumosityのメモリーピンボールのクローンつくっただけです。\nお家であそべないしWonderflに移植しようかとも思ったけどめんどかった。\nSpriteのscale弄って線のアニメーションするのがめっちゃ楽だった。"},
      {id:"ram", title:"Menger Sponge (Haskell) https://github.com/phi16/RayMarch"},
      {id:"fut", ref:"/swf/khtt/khtt.swf",title:"The Future (Flash, AS3)",desc:"未来が見えるの面白そうだなぁと思って。\n内部実装は物理演算を毎フレームいっぱい回しているだけです。いい効果になった。"},
      {id:"unic",title:"Deciphering UnitCell (png)",desc:"LifeGameのUnitCellと呼ばれるパターンの動作をまとめてみました。\nこうみるとすごいCPUっぽい。"},
      {id:"disp",ref:"/swf/erpL/erpL.swf",title:"Dispersion (Flash, AS3)",desc:"雑な光の分散シミュレーション。\n内部から光を入れた時の挙動は間違ってそうだけど気にしないことにする。"},
      {id:"maz", ref:"/swf/u36W/u36W.swf",title:"Maze Solver (Flash, AS3)",desc:"Enterで表示切り替え、スペースで迷路生成、クリックで始点移動。\n木なので探索がめっちゃ速い。"},
      {id:"cpp", ref:"https://github.com/phi16/cpp.hs"},
      {id:"poi", size:2, title:"ねるねるねるね (Android Java) https://play.google.com/store/apps/details?id=phi16.neruneru",desc:"wonderflで昔つくった「る」に棒を指すだけ版のあとでできてしまった。\n元々ただのネタゲーだったけどかなりの複雑さで普通にゲームになってしまった。\nGooglePlayで配信中！"},
      {id:"fri", ref:"/swf/pKIy/pKIy.swf",title:"Fourier Transform (Flash, AS3)",desc:"面白そうな画像を見つけたので。https://twitter.com/Vector_GL/status/612337298064150529\n波形操作以外にもなんとなく数式を書ける機能も付けてしまった。"},
      {id:"pth", ref:"/swf/h7n1/h7n1.swf",title:"Path Tracing (Flash, AS3)",desc:"よくわからないままに適当に書いたらこうなった。\n多分間違っているのでそのうちリベンジします。"},
      {id:"ann", ref:"/swf/wgf9/wgf9.swf",title:"Simulated Annealing (Flash, AS3)",desc:"間にいい感じのスキマができるように自動配置する。\nそれっぽく書いたらそれっぽく動いたのでいいんじゃないでしょうか。"},
      {id:"twn", title:"TypingWar (Browser JavaScript/Node.js) http://typingwar.trap.games/",desc:"traPでつくってたもの。私はプログラム担当でした。\nタイピングのパターン作るのは全通り合成したNFAからDFAをちゃんと生成したり。\nゲーム部分はClosure大量に使って綺麗に書いたつもり。他の言語でも似たことしたい。"},
      {id:"dev", ref:"/swf/4L2z/4L2z.swf",title:"Distinct Developments (Flash, AS3)",desc:"クリック・クリック長押しで操作。連続して11種類の展開図を全て作ればクリア。\nそこそこ難しいしそこそこ面白い感じある。"},
      {id:"ssit",title:"Sunset (GLSL #0) https://www.shadertoy.com/view/XtSXzd"},
      {id:"mnds",title:"Moon and Sky (GLSL #1) https://www.shadertoy.com/view/llBXDG"},
      {id:"hgli",title:"Pixelated Hourglass (GLSL #2) https://www.shadertoy.com/view/llBSD3"},
      {id:"lami",ref:"https://github.com/phi16/Lambia"},
      {id:"citm",title:"City Maker (GLSL #3) https://www.shadertoy.com/view/lscGz2"},
      {id:"110", ref:"https://github.com/phi16/110"},
      {id:"teip",size:2,title:"A Popular Game (GLSL #4) https://www.shadertoy.com/view/4d33Dj"},
      {id:"prif",title:"もふもふ (Browser JavaScript)",desc:"rogyゼミでのプレゼンで用いた、「プレゼン用DSL」。\n中身・解説などは  https://bit.ly/1Q62qol にあります。\n汎用化して何かにできたらなぁと思わなくもないです。"},
      {id:"crys",title:"Crystal (GLSL #5) https://www.shadertoy.com/view/MdV3RW"},
      {id:"revr",title:"Revera (Windows Haskell)",desc:"Haskellで久しぶりにゲームをつくりました。\nコンセプトは3ghtと同じで「認識の加速」。\nあとLensをいっぱいつかった。たのしかった。\n https://github.com/phi16/Revera"},
      {id:"miyu",title:"Miyu : Prism (Browser Haskell → HTML)",desc:"最初はYesodでサーブしてて、その頃はCPUモニタとか内部のbotを叩く機能とかいろいろあった。\n今はそれをやってた物理PCの電源が死んだので残念ながら・・・\nといっても殆ど静的ページだったしgithub.ioも今のところは良いかなって感じ"},
      {id:"prgr",size:2,title:"進捗どうですか？ (Browser/ES6) http://progress.trap.games",desc:"traPでつくったもの。詳細は → https://bit.ly/28ZCWgX\n仕様とかをほぼ完璧に仕上げてからチームで2日で実装。\n全力を出したらとほんとに完成してとても嬉しかった。"},
      {id:"tsp", title:"Handmade TSP (Browser) https://phi16.github.io/Handmade-TSP",desc:"某C言語の課題を手でやろうとして作ったもの。\n最初は純粋に手のみでパスを作ろうと思ってたけど気づいたら2-opt機能とかが生えてた。\nアルゴリズムのVisualizerとしての機能は果たしてる感じ。"},
      {id:"nen", title:"NeonCube (GLSL #6) https://www.shadertoy.com/view/XtdGRs"},
      {id:"jla", title:"Japanese Lamp (GLSL #7) https://www.shadertoy.com/view/Xlc3W2"},
      {id:"sspe",title:"ShapeSphere (D GLSL)",desc:"traPでつくってたもの。Renderer担当してました。GAME^3で展示したし多分載っけていいよね。\n大体Shadertoyで得てしまった謎テクを大量につっこんで出来たものです。クリスタルに全力を出しすぎた。\nでもやっぱり全体の統一感が無いので精進します＞＜ (このシーンはわざとだけど)"},
      {id:"utpd",size:2,title:"Quilt Untyped (Browser) https://phi16.github.io/Quilt/untyped",desc:"圏論のStringDiagramをベースにラムダ計算をVisualizeしたもの。\nこれは階乗を計算するプログラム。UIから評価器まで全部自作です。"},
      {id:"flw", title:"Quilt Flow (Browser) https://phi16.github.io/Quilt/flow",desc:"Quilt Untypedを作ってたら、双対を取ることで命令形プログラミング言語ができることに気づいてしまった。\nこれは迷路を解いたあと最短経路で最初に戻ってくるプログラム。教育向きかも？とか。"},
      {id:"line",title:"Quilt Linear (Browser) https://phi16.github.io/Quilt/linear",desc:"元ネタは https://arxiv.org/abs/1405.6881です。\n線形方程式をVisualizeした上でその解空間を計算する。\nGUIの基盤があるので行列らへんの処理を組むだけで出来た。"},
      {id:"rcmt",title:"MotionStore (Browser Haskell/Haste) https://phi16.github.io/MotionStore",desc:"スクショ見てもわかんない・・・ 使えそうなモーションを集めておこうと思ったのでつくった。\n段々増える予定。"},
      {id:"rwnd",title:"Let's rewind time! (Browser) https://phi16.github.io/Jam/0103",desc:"3時間GameJamってことで出来た作品。ドット絵はwhiteonionさんから。\nゴールから、逆に今までの入力を正しく辿って最初の場所まで戻るゲーム。\n3時間でできる限界という感じ。"},
      {id:"encl",title:"最小包含円 (Browser GLSL) https://www.shadertoy.com/view/4lGXDD",desc:"3時間GameJam作品。"},
      {id:"crcu",title:"Quilt Circuit (Browser) https://phi16.github.io/Quilt/circuit",desc:"また作っちゃった。基礎集積回路の試験が終わったので腹いせに作ったやつ。\nなんか普通にいろんなことが出来て楽しい。基盤のおかげでぱっと作れて最高って感じ。"},
      {id:"mrmv",title:"Mirror Move (Browser) https://phi16.github.io/Jam/0213",desc:"3時間Jamの作品。鏡で反射して移動するって感じ。\n雰囲気はklockiを参考にした。3時間パズルゲームは考察が足りないので複雑なのを作るのが難しい。"},
      {id:"rign",title:"RIGHT ANGLE (Browser) https://phi16.github.io/Jam/0220",desc:"3時間GameJam作品。"},
      {id:"welc",title:"traP welcome-17 site (Browser)",desc:"新歓ページのヘッダ部分を作りました。このスクショは私が関係した作品の画像だけで動かしたもの。\n一度再帰的タイルレイアウトをやってみたかった。やりたかった動きもちゃんと出来たしなんとかなった。\nDOM操作がやっぱり重いので諸々反省。"},
      {id:"fdem",title:"Forbidden Drop Estimator (Browser) https://phi16.github.io/Jam/0306",desc:"3時間GameJam作品。禁止されたパターンを作らないようにがんばる。\n難しそう、っておもったけど案外簡単、に見えたけど難しいパターンがめちゃくちゃ難しくてゲームバランス調整の難しさを感じた。"},
      {id:"lumi",title:"Lumin β (Unity C#)",desc:"とあるドマイナーゲーを殆どパクってのんびり作っていたもの。\nキューブが降って来てつなげて連鎖する感じのアクションパズル。\n面白さがまだ出てないので当分お蔵入りになりそう。その内全部作り直します。"},
      {id:"dupr",title:"双対原理 (Browser) https://phi16.github.io/Jam/0321/",desc:"3時間GameJam作品。テーマは「相反するもの」。\n最初はただのVisualizerとして作っていてゲームにはならないなぁと思ってた。\n図形を構成するっていうのを考えるとなかなか難しくてこれはこれでありだなーという感じ。"},
      {id:"gcha",size:2,title:"課金王者ガチャキング (Browser) https://trap.jp/post/183/",desc:"traPで開発していた作品。クライアントプログラム担当としていろいろと頑張りました。\nもともと面白い作品だったので開発のモチベが保てていて本当によかった。まだβなので頑張っていきます。"},
      {id:"scvs",title:"Ranking-visu (Browser, WebGL)",desc:"traP CPCTF用のランキングVisualizer。描画はWebGLとCanvas。\nDistanceFieldを使っていて、新しい得点が追加されるとぽにょんってなる。\nやりたかった見た目は達成できたし、実運用でもいい感じに動いて好評だったので良かった。"},
      {id:"tsag",title:"tombi sarais aburage (Browser) https://phi16.github.io/Jam/0504/",desc:"3時間GameJam作品。テーマは速度で、一瞬で降りて戻っていくみたいなのが表現したかった。\n最初はちゃんと絵をつけようと思ってたけど絵が描けなかったのでネタに走る。\nこれはこれでいいかなという感じ。"},
      {id:"tsut",title:"Infinity Tsuta (Browser) https://phi16.github.io/Jam/0611/",desc:"3時間GameJam作品。テーマは成長、植物をいい感じに成長させよう、みたいな。\n最初はもっとゲーム性ある感じになる気がしていたけど途中でわかんなくなってしまった。\nグラフィックも凝れなかったしそろそろいつものCanvasライブラリの限界を感じる。"},
      {id:"jj3s",title:"JJ3S / jj3s-lua (Browser, Lua) https://phi16.github.io/JJ3S https://kaz.github.io/jj3s-lua?share",desc:"情報実験第三の授業で作ってしまったものです。ミニCPUのシミュレータに、Luaコンパイラがくっついたもの。\n見た目とCPUシミュレータ部分は私で、Luaコンパイラはkazさんです。\nちゃんと実機で動くバイナリを吐いてくれる。たのしかった。"},
      {id:"shsw",title:"Shooter Swimmer (Browser) https://phi16.github.io/Jam/0817",desc:"3時間GameJam作品。といっても作成1.5時間後に大幅アップデートしたけど。\n「夏」をテーマに水鉄砲からのイカです。\n最終的に普通に遊べるゲームになったみたい。うれしい。"},
      {id:"enfq",title:"EIGENFREQ (Browser) https://phi16.github.io/Jam/0828",desc:"3時間GameJam作品。テーマは「振動」。\nなんか固有振動数当てて破壊するゲームがあったのでスタイリッシュにした感じ。\nマイク利用だと遊ばれにくいなぁというのを感じたけど、作りたいものは作れた。"},
      {id:"tori",title:"Tori (Browser Haskell/Haste, JS) http://tori.phi16.trap.show/",desc:"とりあえず物理演算してみようとして作った。\nトーラスのような端の同一視ができるようになってる。\n今動いているのはよくわからない空間。"},
      {id:"mani",size:2,title:"Manifold (Browser Haskell/Haste, JS) https://phi16.github.io/Manifold",desc:"Toriの方式だと本当の射影空間が作れないので真面目に作り直した。\n結果距離関数で定義できる表面なら物理演算ができるというものができた。\nトーラス上の計量の違いみたいなのも表現できて楽しい。"},
      {id:"lgcb",title:"LightCube (Browser, WebGL) https://phi16.github.io/Jam/1025",desc:"3時間GameJam作品。テーマは「エンドレス」。\n昔の3ghtのノリです。速度が上がっても何故か手が動くという感覚がやりたかった。\n残念ながらウェイトが上手くいってないのか、3ghtみたいな楽しさはない感じ。"},
      {id:"plsp",title:"Plus Splash (Browser, WebGL) https://phi16.github.io/Jam/1108",desc:"3時間GameJam作品。テーマは「範囲」。\nスーパーチャクチのことを考えていたらこんなパズルが出来た。\n途中までゆっくり考えるタイプのゲームを考えていたが、簡単すぎたので早解きにしてみた。\n最近3時間といいながら毎度30分くらいオーバーしているので反省。"},
      {id:"qvtt",title:"qV (Browser, WebGL)",desc:"某ゲームのクローンを自分用に作った。非公開。\n自分の入力表示機能をいい感じに機能させたいんだけど難しい。"},
      {id:"fvcl",title:"Five Coloring (Browser, Canvas) https://phi16.github.io/Five-coloring/",desc:"平面グラフの5彩色シミュレータ。要は五色定理。\nもともとはもちろん四色定理のシミュレータを作りたかったが、それまでに必要な労力が大きすぎる…\n軽く眺めても放電手続きだけでめちゃくちゃ長いし。諦めてKempe chainの処理だけを入れて5色にした。"},
      {id:"laine",title:"Laine (Blender)",desc:"好みのアバターを使いたいために執念で作ったモデル。\n試作とかもせずにひたすらがりがりやってた。\n微妙にT-poseじゃないとかいろいろ不備があって治すことにはなったけど、キャラ自体は満足な感じ。"},
      {id:"lab",title:"Laine's Lab (Blender, Unity, VRChat)",desc:"VRChatでシェーダを自由に書けると聞いて遊び倒したもの。\nそのせいでワールド自体のシェーディングは虚無みたいになってる。\n各々については https://twitter.com/i/moments/980858454318358528 を参照。"},
      {id:"ipct",title:"The Impact (Browser, Canvas) http://phi16.github.io/Jam/20180504",desc:"3時間GameJam作品。急停止を表現したかった。\nやっぱり2Dだと速度の表現は難しい・・・"},
      {id:"crna",title:"Carna (Blender, Substance Painter, Unity)",desc:"時間経ったしもっといいモデル作れるかなって思って作ったアバター。\nSubstance Painterで諸々焼いたりSurface Shaderを細かく調節したり。\n表情も入れたのでかわいい。そのうち装飾を増やす予定だった。"},
      {id:"stwd",title:"Star Wand (Unity, VRChat)",desc:"作ったGPUパーティクルがあまりにも綺麗だったのでそれだけのワールドを作った。\n結構な数の人に遊んでもらえたようで嬉しい限り。\nこれのせいかは知らないけどGPUパーティクルを自作するのが一部で流行したりと恐ろしい界隈…"},
      {id:"rnca",title:"Runica (Android, Kotlin)",desc:"Android用キーボード。Strokeの後継。\n元々は2タッチ準拠だったけど入力速度を上げるために配置をごちゃまぜにした。\n少なくとも前よりは速い。\nいろいろ直したいところがあるのでそのうち新しいのを作る。"},
      {id:"frwi",title:"{noname} (Unity, VRChat)",desc:"盆の為に作ったパーティクル。写真では全く伝わらないけど。\n当日の様子は https://twitter.com/i/moments/1026413242896154624 を参照 。\nその後制作解説を書いたりしました。 https://twitter.com/phi16_/status/1026272198535733248 \nそしたら写経する人がぽちぽちいらっしゃってとてもびっくり。すごい。"},
      {id:"frwk",title:"Firework on a stalk (Unity, VRChat)",desc:"花火大会ということで作った花です。きれいだね。"},
      {id:"vcpk",size:2,title:"Vacuous Park (Unity, VRChat)",desc:"GPUパーティクルだけで出来た「虚無の遊園地」。\n観覧車は元々は盆踊りの為に作った物(それもまた奇妙だけど)で、折角なので乗れるようにもした。\n遠景はArea Xリスペクトで作ってみたらめちゃくちゃ綺麗になった。"},
      {id:"csmp",title:"Consumption (Browser, WebGL) https://phi16.github.io/Jam/0829",desc:"3時間GameJam作品。テーマは「たべる」。"},
      {id:"tsrc",title:"Tesseract Frame (Unity) https://phi16.booth.pm/items/996875",desc:"正八胞体の射影図を適当に作って遊んでみたら多少面白かったので配布用に再設計した。\nVRでも所詮3次元なのだけど、自分の手で回転するのは(変な回転法則とはいえ)新鮮な体験だった。\nVR世界のアクセサリーとしてちょうどいい感じ。\nちなみに△480に見えるけど描画時にはGeometryShaderで△960になってる。"},
      {id:"vcc",title:"VCC (Browser, Vue)\nVRoadCasterで配信するときに音声系をどうにかしたいという依頼で制作したもの。\nSkyWayでDiscordみたいなボイスチャットが出来て、WebAudioでエフェクトが掛けられる。\n色々実験的なこともやりつついい感じに使えてる。"},
      {id:"vpal",title:"Vacuous Park : Alter (Unity, VRChat)",desc:"たぶん願いなんだとおもう。"},
      {id:"jgmr",title:"Jenga MR (Unity, Oculus Rift, Hololens) https://twitter.com/i/moments/1048929491047702528",desc:"工大祭展示のために作ったもの。VR世界の私とMRでいっしょにジェンガができる。\nHololensの問題でうまく展示できなかった点はあったけどおもしろい体験を作ることはできたとおもう。\nただ遠隔展示には課題がたくさんあるなと感じた次第。でもたのしかったな。"},
      {id:"cnvs",title:"Just a canvas (Unity, VRChat) https://twitter.com/i/moments/1080900452684685312",desc:"絵を描きたくなった。ので作った。\nシェーダでごりごり計算しているだけです。UIは多少面白いかな。\nでも思い通りに描けるわけないよねっていう。\nまぁそれでも結構楽しんでもらえてよかった。"},
      {id:"ciph",title:"暗号という恐怖 / Fear of cipher (Unity, VRChat) https://twitter.com/phi16_/status/1094207326616117250",desc:"ヨツミフレームさん主催の合同アート展に出した作品。暗号や鍵を観えるようにしたもの。多分。\n答えは本当にあるのか、それとも思い込みか…情報って難しいですよね。\n未だ「終わって」いません。いつになるのかな。 → 私がミスをしていたことがわかりました＞＜ 本当に申し訳なかった。\nその後の詫び問題 http://phi16.hatenablog.com/entry/2019/07/13/233308 でちゃんと終わってくれたみたいです。よかった。"},
      {id:"obsr",title:"非観測的観察 / Unobserved observation (Unity, VRChat) https://twitter.com/phi16_/status/1094207326616117250",desc:"これも同アート展に出した作品。量子ビットをそのまま「観える」ようにしたものです。\nそんなつもりはなかったけど「同期する値を作り出すゲーム」が出来たりして面白かった。"},
      {id:"mnl",title:"Makia 01 NL (Unity, VRChat) https://phi16.booth.pm/items/1262183",desc:"VRChatにあるゲーム筐体はみんな遊べなかったのでとても悲しかった。ので遊べるゲーム機を作った。\nこんな感じで遊べるゲームがいつか増えるといいなと思うんですが。どうだろう。\nゲーム自体はLightCubeのクローンで、1ボタンで気軽に遊ぶには丁度いいデザインだった。"},
      {id:"vke2",title:"Booth for Vket2 (Unity, VRChat)",desc:"第二回バーチャルマーケットに出ました。Future Terminal Bにおいてあります。\n背景のオブジェは動いたりします。シェーダ製。"},
      {id:"cons",title:"一貫性の境界 / It is still consistent (Unity, VRChat)",desc:"前述のアート展に後から出した作品。\n空間ってそんなに簡単じゃないよね、という気持ちです。\nついでに数学をやろうね、みたいな想いで出来ています。うん。"},
      {id:"stir",size:2,title:"Stair Hall (Unity, VRChat) https://twitter.com/i/moments/1113143458682642432",desc:"無限回廊と箒のあるワールド。こういう風景をずっと見たいと思っていた。\n色んな問題に直面しつつもなんとか解決を見つけていって。すごいいい感じになりました。\n思い通りの空間が作れて満足です。飛ぶのめちゃくちゃたのしい。ちなみに写っているのはますきゃっとちゃんです。かわいい。"},
      {id:"resm",title:"RE-sampler (Browser, Canvas) https://phi16.github.io/Jam/0505/",desc:"3時間GameJam作品、テーマは「れい」。\n正規表現を満たす例、みたいなのを見つけるゲーム。\n最後の2ステージの感じのステージを量産したかったが間に合わず。でもコンセプトは面白いとおもう。"},
      {id:"do06",title:"D:0629 (Unity, VRChat) https://twitter.com/phi16_/status/1145993735705993223",desc:"某所での某の為に作ったもの。端的に言えばパーティクルコントローラ。\n音に合わせたり合わせなかったり、思った動きが出来るように諸々考えてUIを作った。\nでもそのポテンシャルが私の制御範囲を越えてしまっていてとても良い。またやっていきたい。"},
      {id:"trot",title:"Trotter Playground (Browser, WebGL) https://neort.io/art/bknhkgc3p9f7drq1jcpg"},
      {id:"jppt",title:"Japanese Pattern (GLSL) https://neort.io/art/bl4rkmk3p9fafudebh3g"},
      {id:"cwyf",title:"Just a canvas with your friend (Unity, VRChat) http://phi16.hatenablog.com/entry/2019/08/21/003358",desc:"VRAAというVR空間デザインコンテストに応募した作品です。前作ったJust a canvasの改造版になってます。\nいろいろなことがあったし賞も貰えたのでとてもよかった。\nVRAA01の作品ポータルから入ることができます。"},
      {id:"iotm",title:"Inter-action on the Math (Unity, VRChat) https://twitter.com/i/events/1272575314707623937",desc:"数学っぽい物をいろいろ作ってみたくて作った。\n最初はLorenzAttractorから、だんだん増えて今のような形に。四次元回転はいろいろな人の情報から出来たり。\n数学の本流の方々に見せる機会もあったりしてとてもありがたかった。"},
      {id:"bake",title:"パン屋 (Unity, VRChat) https://twitter.com/phi16_/status/1183981763225194497",desc:"パストレやらないとなと思ったのでやりました。Cornell BoxくらいならLambert仮定でいい感じになると思ったのでライトベイクみたいな感じに。\nVRにしては珍しく反射と屈折が正しいので物珍しい感じはある。"},
      {id:"mori",size:2,title:"森 2019 クリスマス仕様 (Unity, VRChat)",desc:"色んな人達と作った森ワールドを一般公開(friends+)した日。色んな人来てくれて嬉しかったですね。"},
      {id:"glgr",size:1,title:"a glow of glass (GLSL) https://neort.io/art/bo8mh1s3p9fc827hcrcg"},
      {id:"then",size:1,title:"Then (Browser, WebGL) https://neort.io/art/bpn1cic3p9fbkbq84i0g",desc:"#Shader1weekCompo という機会を得たので作った作品。\n最初作ったものはうまく行かなかったけど作り直して良いものが出来たので良い成功体験だった。\n試しにといろんなことをやってみたけどおかげでいろんな実装経験を得られた。みなさんの作品もめちゃくちゃ良かった。"},
      {id:"f2c",size:1,title:"F2C (Browser, Canvas) https://phi16.github.io/Jam/0327/",desc:"3時間GameJam作品、テーマは「2色」。\n久しぶりのJamでした。あんまり衰えてる感じはしないのでよかったよかった。名前は Flip to Connect の略です。"},
      {id:"vke4",size:1,title:"Booth for Vket4 (Unity, VRChat)",desc:"Virtual Market 4 Default Cube DC-04 Green-02 に配置されたブースです。\nhttps://twitter.com/phi16_/status/1255315875818876929"},
      {id:"silv",size:1,title:"Silver and You (Unity, VRChat)",desc:"銀髪の在るワールドです。\n「重みを伴った空間」が出来てとても良かった。"},
      {id:"derv",size:1,title:"Derivation (Browser, WebGL) https://neort.io/art/bqtdqo43p9f48fkit640",desc:"#Shader1weekCompoに投稿した作品。"},
      {id:"ameb",size:2,title:"Amebient (Unity, VRChat) https://vrchat.com/home/launch?worldId=wrld_4e8f3e44-dca9-4ae7-9580-954bb4b2cbc4",desc:"Capとらくとあいすさんと制作した作品。いろんなことをやりきった気持ち。\n沢山の人に遊びに来てもらってとても良かった。VRAA02にも提出しました。"},
      {id:"slot",size:1,title:"Slice of time (Unity, VRChat) https://vrchat.com/home/launch?worldId=wrld_e4801502-0a67-4fd0-af07-41c53899f117",desc:"Houdiniの習作みたいな感じで作った。ぐっとやればできそうだなと思ったので。\nコンセプト以外の何物でもないけど、これでHoudiniをある程度理解できた部分もあったので作れて良かった。"},
      {id:"blsg",size:1,title:"blindsight (Unity) https://phi16.itch.io/blindsight",desc:"Houdini Game Jam 2020 に提出した作品。久々のゲームです。\nHoudiniにもうちょっと親しみを持てるようになったのと、初めてのまともなUnityゲーム制作経験が出来た。\nPortalみたいなのの実装も出来たりして、いろいろやりたかったことがやれて良い機会だった。"}
    ];
    const cont = $("#elems")[0];
    const elems = [];
    let numSum = 0;
    data.forEach(d=>{
      const div = document.createElement("div");
      div.className = "elem";
      div.style.width = div.style.height = "100px";
      const a = document.createElement("a");
      if(d.title){
        a.className = "item";
        a.rel = "item";
        if(d.desc){
          a["title"] = d.title + "\n" + d.desc;
        }else{
          a["title"] = d.title;
        }
      }
      a.href = d.ref ? d.ref : "/img/scsh/" + d.id + ".png";
      const img = document.createElement("img");
      img.src = "/img/scsh/" + d.id + "_t.png";
      img.width = "100";
      a.appendChild(img);
      div.appendChild(a);
      cont.appendChild(div);
      elems.push({s:d.size?d.size:1,p:(x,y,s)=>{
       div.style.left = x + "px";
       div.style.top = y + "px";
       div.style.width = div.style.height = s + "px";
       img.width = s;
      }});
      numSum += d.size ? d.size * d.size : 1;
    });
    $("a.item").fancybox({
      width:465,
      height:465,
      titlePosition: 'inside'
    });
    function resize() {
      let rightPad = 40;
      let measureW = cont.clientWidth - rightPad;
      let pad = 4;
      let maxW = Math.max(Math.floor((measureW+pad)/(100+pad)),1);
      let maxH = Math.ceil(numSum / maxW);
      let unit = Math.max((measureW+pad) / maxW, 104);
      let array = [];
      for(let i=0;i<maxH+2;i++) {
        let a = [];
        for(let j=0;j<maxW;j++) {
          a.push(false);
        }
        array.push(a);
      }
      function safe(x,y,s) {
        for(let i=0;i<s;i++) {
          if(y+i >= maxH+1) return false;
          for(let j=0;j<s;j++) {
            if(x+j >= maxW) return false;
            if(array[y+i][x+j]) return false;
          }
        }
        return true;
      }
      function fill(x,y,s) {
        for(let i=0;i<s;i++) {
          for(let j=0;j<s;j++) {
            array[y+j][x+i] = true;
          }
        }
        return true;
      }
      let curX = 0, curY = 0, bottom = 0;
      elems.forEach(e=>{
        let s = location.hash === "#unit" || maxW == 1 ? 1 : e.s;
        let cx = curX, cy = curY;
        while(!safe(cx,cy,s)) {
          cx++;
          if(cx == maxW) cx = 0, cy++;
        }
        fill(cx,cy,s);
        bottom = Math.max(bottom, cy+s);
        let px = cx*unit, py = cy*unit;
        let sz = unit*s - pad;
        e.p(px,py,sz);
        while(array[curY][curX]) {
          curX++;
          if(curX == maxW) curX = 0, curY++;
        }
      });
      cont.style.height = unit*bottom + "px";
    }
    resize();
    window.addEventListener("resize",resize);
  });
  </script>
</body>

</html>
